<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Lotes y Actividades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <!-- Sección para Registrar Lote -->
        <section id="registroLote">
            <h2>Registrar Lote</h2>
            <form id="formLote">
                <div class="form-group">
                    <label for="numeroLote">Número de Lote</label>
                    <input type="text" class="form-control" id="numeroLote" required>
                </div>
                <div class="form-group">
                    <label for="variedad">Variedad</label>
                    <input type="text" class="form-control" id="variedad" required>
                </div>
                <div class="form-group">
                    <label for="areaLote">Área (en hectáreas)</label>
                    <input type="number" class="form-control" id="areaLote" required>
                </div>
                <div class="form-group">
                    <label for="distanciaCalle">Distancia entre Calles (en metros)</label>
                    <input type="number" class="form-control" id="distanciaCalle" required>
                </div>
                <div class="form-group">
                    <label for="distanciaPlantas">Distancia entre Plantas (en metros)</label>
                    <input type="number" class="form-control" id="distanciaPlantas" required>
                </div>
                <button type="submit" class="btn btn-primary">Registrar Lote</button>
            </form>
            <div id="lotesRegistrados">
                <!-- Los lotes registrados aparecerán aquí -->
            </div>
        </section>

        <!-- Sección para Registrar Costos de Actividades -->
        <section id="registroCostos" class="mt-4">
            <h2>Registrar Costos de Actividades</h2>
            <form id="formCostos">
                <div class="form-group">
                    <label for="actividad">Actividad</label>
                    <select class="form-control" id="actividad" required>
                        <option value="Siembra">Siembra</option>
                        <option value="Control de Plagas">Control de Plagas</option>
                        <option value="Recolección">Recolección</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="subactividad">Subactividad</label>
                    <input type="text" class="form-control" id="subactividad" required>
                </div>
                <div class="form-group">
                    <label for="numJornales">Número de Jornales</label>
                    <input type="number" class="form-control" id="numJornales" required>
                </div>
                <div class="form-group">
                    <label for="valorJornal">Valor Unitario del Jornal</label>
                    <input type="number" class="form-control" id="valorJornal" required>
                </div>
                <div class="form-group">
                    <label for="fechaLabor">Fecha de la Labor</label>
                    <input type="date" class="form-control" id="fechaLabor" required>
                </div>
                <button type="submit" class="btn btn-primary">Registrar Actividad</button>
            </form>
            <div id="costosRegistrados">
                <!-- Los costos de actividades registrados aparecerán aquí -->
            </div>
        </section>
    </div>

    <script>
        // Registrar Lote
        document.getElementById("formLote").addEventListener("submit", function(e) {
            e.preventDefault(); // Evita la recarga de la página

            // Obtener los valores del formulario
            let numeroLote = document.getElementById("numeroLote").value;
            let variedad = document.getElementById("variedad").value;
            let areaLote = document.getElementById("areaLote").value;
            let distanciaCalle = document.getElementById("distanciaCalle").value;
            let distanciaPlantas = document.getElementById("distanciaPlantas").value;

            // Calcular el número de plantas
            let numeroPlantas = (areaLote / (distanciaCalle * distanciaPlantas)).toFixed(0);

            // Crear el HTML para mostrar el lote
            let loteHTML = `
                <div class="alert alert-info">
                    <h5>Lote ${numeroLote}</h5>
                    <p>Variedad: ${variedad}</p>
                    <p>Área: ${areaLote} ha</p>
                    <p>Distancia entre calles: ${distanciaCalle} m</p>
                    <p>Distancia entre plantas: ${distanciaPlantas} m</p>
                    <p>Número de plantas: ${numeroPlantas}</p>
                </div>
            `;

            // Mostrar el lote registrado
            document.getElementById("lotesRegistrados").innerHTML += loteHTML;
        });

        // Registrar Costos de Actividades
        document.getElementById("formCostos").addEventListener("submit", function(e) {
            e.preventDefault(); // Evita la recarga de la página

            // Obtener los valores del formulario
            let actividad = document.getElementById("actividad").value;
            let subactividad = document.getElementById("subactividad").value;
            let numJornales = parseInt(document.getElementById("numJornales").value);
            let valorJornal = parseFloat(document.getElementById("valorJornal").value);
            let fechaLabor = document.getElementById("fechaLabor").value;

            // Calcular el valor total de la actividad
            let valorTotal = numJornales * valorJornal;

            // Crear el HTML para mostrar los costos de la actividad
            let actividadHTML = `
                <div class="alert alert-success">
                    <h5>Actividad: ${actividad}</h5>
                    <p>Subactividad: ${subactividad}</p>
                    <p>Número de Jornales: ${numJornales}</p>
                    <p>Valor Unitario del Jornal: ${valorJornal}</p>
                    <p>Valor Total: ${valorTotal}</p>
                    <p>Fecha de la Labor: ${fechaLabor}</p>
                </div>
            `;

            // Mostrar los costos registrados
            document.getElementById("costosRegistrados").innerHTML += actividadHTML;
        });
    </script>
</body>
</html>
