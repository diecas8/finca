<!-- Esto es como tu cuaderno mÃ¡gico âœ¨ -->
<!DOCTYPE html>
<html>
<head>
    <title>Finca CafÃ© MÃ¡gico ğŸŒ±</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .seccion { background: #e0f7fa; padding: 20px; margin: 10px; border-radius: 10px; }
        input, button { margin: 5px; padding: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #4CAF50; padding: 8px; }
    </style>
<head>
    <title>Finca CafÃ© MÃ¡gico ğŸŒ±</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .seccion { background: #e0f7fa; padding: 20px; margin: 10px; border-radius: 10px; }
        
        /* â–¼â–¼â–¼ NUEVO CÃ“DIGO PEGADO AQUÃ â–¼â–¼â–¼ */
        .columnas-magicas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        label {
            display: block;
            margin: 10px 0 5px;
            color: #2e7d32;
            font-weight: bold;
        }
        /* â–²â–²â–² FIN DEL NUEVO CÃ“DIGO â–²â–²â–² */
        
        input, button { margin: 5px; padding: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    </style>
</head>

<!-- â–¼â–¼â–¼ PEGA ESTE BLOQUE AL PRINCIPIO â–¼â–¼â–¼ -->
<!-- â–¼â–¼â–¼ PEGA ESTE BLOQUE AL PRINCIPIO â–¼â–¼â–¼ -->
<div class="seccion">
    <h2>ğŸ“‹ InformaciÃ³n de la Finca</h2>
    <form onsubmit="guardarFinca(event)">
        <div class="columnas-magicas">
            <div>
                <label>Nombre de la finca:</label>
                <input type="text" id="nombreFinca" required>
                
                <label>Ãrea total (hectÃ¡reas):</label>
                <input type="number" step="0.01" id="areaTotal" required>
                
                <label>Propietario:</label>
                <input type="text" id="propietario" required>
            </div>
            
            <div>
                <label>Vereda:</label>
                <input type="text" id="vereda" required>
                
                <label>Municipio:</label>
                <input type="text" id="municipio" required>
                
                <label>Ãrea en cafÃ© (auto):</label>
                <input type="number" step="0.01" id="areaCafe" readonly>
            </div>
        </div>
        <button type="submit">ğŸ’¾ Guardar</button>
    </form>
</div>
<!-- â–²â–²â–² HASTA AQUÃ â–²â–²â–² --><!-- â–²â–²â–² HASTA AQUÃ â–²â–²â–² -->
<!-- TIENDA DE JUGUETES: Insumos -->
<div class="seccion">
    <h2>ğŸ›’ Compras de Insumos</h2>
    <input type="date" id="fechaCompra">
    <input type="text" id="insumo" placeholder="Nombre del insumo">
    <input type="number" step="0.01" id="cantidadCompra" placeholder="Cantidad">
    <button onclick="comprarInsumo()">ğŸ›’ Agregar</button>
</div>

<!-- â–¼â–¼â–¼ PEGA ESTE BLOQUE EN VEZ DE LA VIEJA BODEGA â–¼â–¼â–¼ -->
<div class="seccion">
    <h2>ğŸ“¦ Bodega de Insumos (Mejorada)</h2>
    <table id="tablaBodega">
        <tr>
            <th>Insumo</th>
            <th>Unidad</th>
            <th>En Stock</th>
            <th>Ãšltima Compra</th>
            <th>Total Usado</th>
            <th>Disponible</th>
        </tr>
    </table>
</div>
<!-- â–²â–²â–² HASTA AQUÃ â–²â–²â–² -->

<!-- LOTES DE JUEGO -->
<div class="seccion">
    <h2>ğŸŒ± Lotes de CafÃ©</h2>
    <input type="text" id="numLote" placeholder="NÃºmero de lote">
    <input type="number" step="0.01" id="areaLote" placeholder="Ãrea (ha)" oninput="calcularPlantas()">
    <input type="number" step="0.01" id="distanciaCalles" placeholder="Distancia calles (m)" oninput="calcularPlantas()">
    <input type="number" step="0.01" id="distanciaPlantas" placeholder="Distancia plantas (m)" oninput="calcularPlantas()">
    <input type="text" id="densidad" placeholder="Densidad" readonly>
    <input type="text" id="numPlantas" placeholder="Plantas totales" readonly>
    <button onclick="guardarLote()">ğŸ’¾ Guardar</button>
</div>
<!-- Agrega esto en el BODY despuÃ©s de la secciÃ³n de Lotes -->
<div class="seccion">
    <h2>ğŸ‘· Actividades en Lotes</h2>
    <select id="loteActividad" onchange="cargarInsumos()">
        <option>Elige un lote</option>
    </select>
    <input type="date" id="fechaActividad">
    <input type="text" id="nombreActividad" placeholder="Nombre actividad">
    <input type="number" id="jornales" placeholder="NÃºmero de jornales" oninput="calcularTotal()">
    <input type="number" step="0.01" id="valorJornal" placeholder="Valor por jornal" oninput="calcularTotal()">
    <input type="number" id="totalActividad" placeholder="Total" readonly>
    <button onclick="guardarActividad()">ğŸ’¾ Guardar</button>
    
    <table id="tablaActividades">
        <tr><th>Lote</th><th>Actividad</th><th>Total</th><th>Acciones</th></tr>
    </table>
</div>

<div class="seccion">
    <h2>ğŸ“¦ Usar Insumos en Lotes</h2>
    <select id="loteUso">
        <option>Elige un lote</option>
    </select>
    <select id="insumoUso">
        <option>Elige insumo</option>
    </select>
    <input type="number" step="0.01" id="cantidadUso" placeholder="Cantidad a usar">
    <button onclick="usarInsumo()">â– Usar</button>
</div>

 <!-- â–¼â–¼â–¼ PEGA AQUÃ EL NUEVO SCRIPT â–¼â–¼â–¼ -->
    <script>
        // â–¼â–¼â–¼ Variables MÃ¡gicas â–¼â–¼â–¼
        let datosFinca = {
            nombre: "",
            areaTotal: 0,
            propietario: "",
            vereda: "",
            municipio: ""
        };

        // â–¼â–¼â–¼ FunciÃ³n para Guardar â–¼â–¼â–¼
        function guardarFinca(event) {
            event.preventDefault();
            
            datosFinca = {
                nombre: document.getElementById('nombreFinca').value,
                areaTotal: parseFloat(document.getElementById('areaTotal').value),
                propietario: document.getElementById('propietario').value,
                vereda: document.getElementById('vereda').value,
                municipio: document.getElementById('municipio').value
            };
            
            localStorage.setItem('datosFinca', JSON.stringify(datosFinca));
            alert("âœ… Â¡InformaciÃ³n guardada!");
        }

        // â–¼â–¼â–¼ FunciÃ³n AutomÃ¡tica â–¼â–¼â–¼
        function actualizarAreaCafe() {
            const total = lotes.reduce((sum, lote) => sum + parseFloat(lote.area), 0);
            document.getElementById('areaCafe').value = total.toFixed(2);
        }
    </script>
    <!-- â–²â–²â–² Fin del nuevo script â–²â–²â–² -->

</body>
</html>
