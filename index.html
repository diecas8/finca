<!-- Esto es como tu cuaderno mÃ¡gico âœ¨ -->
<!DOCTYPE html>
<html>
<head>
    <title>Finca CafÃ© MÃ¡gico ğŸŒ±</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .seccion { background: #e0f7fa; padding: 20px; margin: 10px; border-radius: 10px; }
        input, button { margin: 5px; padding: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #4CAF50; padding: 8px; }
    </style>
<head>
    <title>Finca CafÃ© MÃ¡gico ğŸŒ±</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .seccion { background: #e0f7fa; padding: 20px; margin: 10px; border-radius: 10px; }
        
        .columnas-magicas {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        label {
            display: block;
            margin: 10px 0 5px;
            color: #2e7d32;
            font-weight: bold;
        }
        
        input, button { margin: 5px; padding: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    </style>
</head>

<div class="seccion">
    <h2>ğŸ“‹ InformaciÃ³n de la Finca</h2>
    <form onsubmit="guardarFinca(event)">
        <div class="columnas-magicas">
            <div>
                <label>Nombre de la finca:</label>
                <input type="text" id="nombreFinca" required>
                
                <label>Ãrea total (hectÃ¡reas):</label>
                <input type="number" step="0.01" id="areaTotal" required>
                
                <label>Propietario:</label>
                <input type="text" id="propietario" required>
            </div>
            
            <div>
                <label>Vereda:</label>
                <input type="text" id="vereda" required>
                
                <label>Municipio:</label>
                <input type="text" id="municipio" required>
                
                <label>Ãrea en cafÃ© (auto):</label>
                <input type="number" step="0.01" id="areaCafe" readonly>
            </div>
        </div>
        <button type="submit">ğŸ’¾ Guardar</button>
    </form>
</div>

<div class="seccion">
    <h2>ğŸ›’ Compras de Insumos</h2>
    <input type="date" id="fechaCompra">
    <input type="text" id="insumo" placeholder="Nombre del insumo">
    <input type="number" step="0.01" id="cantidadCompra" placeholder="Cantidad">
    <button onclick="comprarInsumo()">ğŸ›’ Agregar</button>
</div>

<div class="seccion">
    <h2>ğŸ“¦ Bodega de Insumos (Mejorada)</h2>
    <table id="tablaBodega">
        <tr>
            <th>Insumo</th>
            <th>Unidad</th>
            <th>En Stock</th>
            <th>Ãšltima Compra</th>
            <th>Total Usado</th>
            <th>Disponible</th>
        </tr>
    </table>
</div>

<div class="seccion">
    <h2>ğŸŒ± Lotes de CafÃ©</h2>
    <div class="columnas-magicas">
        <div>
            <label>NÃºmero de lote:</label>
            <input type="text" id="numLote" placeholder="Ej: Lote 1">
            
            <label>Ãrea (hectÃ¡reas):</label>
            <input type="number" step="0.01" id="areaLote" 
                   oninput="calcularPlantas()" 
                   placeholder="Ej: 1.50">
            
            <label>Distancia entre calles (metros):</label>
            <input type="number" step="0.01" id="distanciaCalles" 
                   oninput="calcularPlantas()" 
                   placeholder="Ej: 2.50">
        </div>
        
        <div>
            <label>Distancia entre plantas (metros):</label>
            <input type="number" step="0.01" id="distanciaPlantas" 
                   oninput="calcularPlantas()" 
                   placeholder="Ej: 1.20">
            
            <label>Densidad (plantas/ha):</label>
            <input type="text" id="densidad" readonly 
                   style="background: #e0f7fa;">
            
            <label>Total de plantas:</label>
            <input type="text" id="numPlantas" readonly 
                   style="background: #e0f7fa;">
        </div>
    </div>
    <button onclick="guardarLote()">ğŸ’¾ Guardar Lote</button>
</div>

<div class="seccion">
    <h2>ğŸ“¦ Usar Insumos en Lotes</h2>
    <select id="loteUso">
        <option>Elige un lote</option>
    </select>
    <select id="insumoUso">
        <option>Elige insumo</option>
    </select>
    <input type="number" step="0.01" id="cantidadUso" placeholder="Cantidad a usar">
    <button onclick="usarInsumo()">â– Usar</button>
</div>

    <script>
        let datosFinca = {
            nombre: "",
            areaTotal: 0,
            propietario: "",
            vereda: "",
            municipio: ""
        };

        function guardarFinca(event) {
            event.preventDefault();
            
            datosFinca = {
                nombre: document.getElementById('nombreFinca').value,
                areaTotal: parseFloat(document.getElementById('areaTotal').value),
                propietario: document.getElementById('propietario').value,
                vereda: document.getElementById('vereda').value,
                municipio: document.getElementById('municipio').value
            };
            
            localStorage.setItem('datosFinca', JSON.stringify(datosFinca));
            alert("âœ… Â¡InformaciÃ³n guardada!");
        }

        function actualizarAreaCafe() {
            const total = lotes.reduce((sum, lote) => sum + parseFloat(lote.area), 0);
            document.getElementById('areaCafe').value = total.toFixed(2);
        }
    </script>

</body>
</html>
