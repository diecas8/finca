<!-- Esto es como tu cuaderno mágico ✨ -->
<!DOCTYPE html>
<html>
<head>
    <title>Finca Café Mágico 🌱</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .seccion { background: #e0f7fa; padding: 20px; margin: 10px; border-radius: 10px; }
        input, button { margin: 5px; padding: 8px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #4CAF50; padding: 8px; }
    </style>
</head>
<body>

<!-- PRIMERA PÁGINA: Info General -->
<div class="seccion">
    <h2>🏠 Casa de la Finca</h2>
    <input type="text" id="nombre" placeholder="Nombre de la finca">
    <input type="number" step="0.01" id="area" placeholder="Área total (ha)">
    <!-- Más campos aquí... -->
</div>

<!-- TIENDA DE JUGUETES: Insumos -->
<div class="seccion">
    <h2>🛒 Compras de Insumos</h2>
    <input type="date" id="fechaCompra">
    <input type="text" id="insumo" placeholder="Nombre del insumo">
    <input type="number" step="0.01" id="cantidadCompra" placeholder="Cantidad">
    <button onclick="comprarInsumo()">🛒 Agregar</button>
</div>

<!-- BODEGA MÁGICA -->
<div class="seccion">
    <h2>📦 Bodega de Insumos</h2>
    <table id="tablaBodega">
        <tr><th>Insumo</th><th>Cantidad</th></tr>
    </table>
</div>

<!-- LOTES DE JUEGO -->
<div class="seccion">
    <h2>🌱 Lotes de Café</h2>
    <input type="text" id="numLote" placeholder="Número de lote">
    <input type="number" step="0.01" id="areaLote" placeholder="Área (ha)" oninput="calcularPlantas()">
    <input type="number" step="0.01" id="distanciaCalles" placeholder="Distancia calles (m)" oninput="calcularPlantas()">
    <input type="number" step="0.01" id="distanciaPlantas" placeholder="Distancia plantas (m)" oninput="calcularPlantas()">
    <input type="text" id="densidad" placeholder="Densidad" readonly>
    <input type="text" id="numPlantas" placeholder="Plantas totales" readonly>
    <button onclick="guardarLote()">💾 Guardar</button>
</div>

<script>
// 🎉 NUESTRAS VARIABLES MÁGICAS
let bodega = {};
let lotes = [];

// 🛒 FUNCIÓN PARA COMPRAR JUGUETES (INSUMOS)
function comprarInsumo() {
    const insumo = document.getElementById('insumo').value;
    const cantidad = parseFloat(document.getElementById('cantidadCompra').value);
    
    if(bodega[insumo]) {
        bodega[insumo] += cantidad; // Si ya tenemos, sumamos
    } else {
        bodega[insumo] = cantidad;  // Si no, creamos nuevo
    }
    
    actualizarBodega();
}

// 📦 ACTUALIZAR BODEGA (como limpiar y ordenar juguetes)
function actualizarBodega() {
    const tabla = document.getElementById('tablaBodega');
    tabla.innerHTML = '<tr><th>Insumo</th><th>Cantidad</th></tr>';
    
    for(let juguete in bodega) {
        tabla.innerHTML += `<tr><td>${juguete}</td><td>${bodega[juguete].toFixed(2)}</td></tr>`;
    }
}

// 🌱 CALCULAR PLANTITAS (¡Aquí está la magia!)
function calcularPlantas() {
    const area = parseFloat(document.getElementById('areaLote').value) || 0;
    const calles = parseFloat(document.getElementById('distanciaCalles').value) || 0;
    const plantas = parseFloat(document.getElementById('distanciaPlantas').value) || 0;
    
    if(calles > 0 && plantas > 0) {
        const densidad = 10000 / (calles * plantas); // ¡Convertimos ha a m²!
        document.getElementById('densidad').value = densidad.toFixed(2);
        document.getElementById('numPlantas').value = (area * densidad).toFixed(0);
    }
}

// 💾 GUARDAR LOTES (como guardar tus dibujos)
function guardarLote() {
    const nuevoLote = {
        numero: document.getElementById('numLote').value,
        area: document.getElementById('areaLote').value,
        densidad: document.getElementById('densidad').value,
        plantas: document.getElementById('numPlantas').value
    };
    
    lotes.push(nuevoLote);
    alert('✅ ¡Lote guardado!');
}
</script>

</body>
</html>
